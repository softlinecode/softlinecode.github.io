---
layout: post
title: SpringMVC @responsebody 한글 깨지는 현상
date: '2012-06-24T20:43:00.002-07:00'
author: Jung Gi Lim
tags:
- spring
modified_time: '2012-06-24T20:43:19.894-07:00'
blogger_id: tag:blogger.com,1999:blog-2993388283610032812.post-2218671939901068619
blogger_orig_url: http://softline21c.blogspot.com/2012/06/springmvc-responsebody.html
---

<br /><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">Spring MVC 3.0.5 버젼에서 Ajax 통신의 결과를 Controller 에서</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">&nbsp;@responsebody&nbsp; 어노테이션 방식으로 바로 response에 값을 넘겨줄수가 있다.</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">그런데 한글이 깨지는 현상이 발생한다.﻿</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">인코딩을 변경했지만 반영이 안된다.</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">구글 검색을 통해서 찾았다. 방법을..</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">&lt;bean&nbsp; class="org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter" &gt;<br style="margin: 0px; padding: 0px;" />&lt;property name="messageConverters"&gt;<br style="margin: 0px; padding: 0px;" />&lt;list&gt;<br style="margin: 0px; padding: 0px;" />&lt;bean class = "org.springframework.http.converter.StringHttpMessageConverter"&gt;<br style="margin: 0px; padding: 0px;" />&lt;property name = "supportedMediaTypes"&gt;<br style="margin: 0px; padding: 0px;" />&lt;list&gt;<br style="margin: 0px; padding: 0px;" />&lt;value&gt;text/plain;charset=UTF-8&lt;/value&gt;<br style="margin: 0px; padding: 0px;" />&lt;/list&gt;<br style="margin: 0px; padding: 0px;" />&lt;/property&gt;<br style="margin: 0px; padding: 0px;" />&lt;/bean&gt;<br style="margin: 0px; padding: 0px;" />&lt;/list&gt;<br style="margin: 0px; padding: 0px;" />&lt;/property&gt;<br style="margin: 0px; padding: 0px;" />&lt;/bean&gt;</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">하지만 이 방법도 안된다.</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">다시 열심히 구글링 결과 다른 방법이 나왔다.</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">pupublic ResponseEntity handleAJAX() { &nbsp;&nbsp;</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; HttpHeaders responseHeaders = new HttpHeaders(); &nbsp;&nbsp;</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; responseHeaders.add("Content-Type", "text/html; charset=utf-8"); &nbsp;&nbsp;</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return new ResponseEntity("actual output", responseHeaders, HttpStatus.CREATED);</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">}</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">이 방법으로는 response의 한글이 깨지지 않고 context-type이 utf-8로</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">정상 적으로 세팅되어서 온다.</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">몇시간의 삽질의 결과입니다.</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; margin-left: 40px; padding: 0px;"><br /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br /></div>