---
layout: post
title: '[Spring 3.2] Spring MVC  ArgumentResolver'
date: '2013-08-12T05:12:00.001-07:00'
author: Jung Gi Lim
tags:
- spring
- Spring MVC
modified_time: '2013-08-12T05:12:19.647-07:00'
blogger_id: tag:blogger.com,1999:blog-2993388283610032812.post-2782762790876905277
blogger_orig_url: http://softline21c.blogspot.com/2013/08/spring-32-spring-mvc-argumentresolver.html
---

Controller 를 개발하다가 보면 공통적으로 파라미터에 추가되어야 하는 경우가 있습니다.<br />UI 에서 넘어어는 값은 아니지만 로그인의 경우 로그인한  사용자 정보라던지 또는 권한이나<br />다른 공통으로 필요한 값들을 Controller 에서 쉽게 바로 사용하게 해주는 기능입니다.<br />ArgumentResolver 의 경우 실제로 UI에서 넘겨주는 파라미터는 아니지만 내부적으로 Controller 에서<br />사용할수 있게 파라미터로 값을 전달해 줄 때 사용하게 됩니다.<br /><br />코드를 보시면 금방 이해가 됩니다.<br /><br /><pre class="brush:java">package com.softline.study.interceptor;<br /><br />import org.springframework.core.MethodParameter;<br />import org.springframework.web.bind.support.WebDataBinderFactory;<br />import org.springframework.web.context.request.NativeWebRequest;<br />import org.springframework.web.method.support.HandlerMethodArgumentResolver;<br />import org.springframework.web.method.support.ModelAndViewContainer;<br /><br />import com.softline.study.model.User;<br /><br />public class UserHandlerMethodArgumentResolver  implements HandlerMethodArgumentResolver{<br /><br />	public boolean supportsParameter(MethodParameter parameter) {<br />		return User.class.isAssignableFrom(parameter.getParameterType());<br />	}<br /><br />	public Object resolveArgument(MethodParameter parameter,<br />			ModelAndViewContainer mavContainer, NativeWebRequest webRequest,<br />			WebDataBinderFactory binderFactory) throws Exception {<br />		User user = new User();<br />		user.setName("테스트");<br />		return user;<br />	}<br />}<br /></pre><br />HandlerMethodArgumentResolver 를 상속받아 구현하면 됩니다.<br /><br />supportsParameter : Resolver가 적용 가능한지 검사하여서 boolean 값을 리턴합니다.<br /><br />resolveArgument : 파라미터와 기타 필요한 정보를 받아서 실제 객체를 return 합니다. 해당 return 객체가 파라미터에 정의가 되면 해당 값으로 사용하게 됩니다.<br /><br />밑에 Controller 에서 파라미터에 User 객체가 있는 경우 해당 Resolver 에서 생성한 객체로 사용할 수 있다.<br /><br /><pre class="brush:java">package com.softline.study.controller;<br /><br />import org.springframework.stereotype.Controller;<br />import org.springframework.web.bind.annotation.RequestMapping;<br />import org.springframework.web.bind.annotation.ResponseBody;<br /><br />import com.softline.study.model.User;<br /><br />@Controller<br />@RequestMapping("arg")<br />public class ArgumentResolverInterceptorTestController {<br /><br />	@RequestMapping("resolver")<br />	@ResponseBody<br />	public String argumentResolver(User user) {<br />		return user.getName();<br />	}<br /><br />}<br /></pre><br />argument-resolver를 servlet-context.xml 파일에 설정 추가부분입니다.<br /><br /><pre class="brush:xml"><?xml version="1.0" encoding="UTF-8"?><br /><beans xmlns="http://www.springframework.org/schema/beans"<br />	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:mvc="http://www.springframework.org/schema/mvc"<br />	xmlns:context="http://www.springframework.org/schema/context"<br />	xsi:schemaLocation="<br />		http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.2.xsd<br />		http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.2.xsd<br />		http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.2.xsd<br />	"><br /><br />	<!-- mvc 관련 annotation --><br />	<mvc:annotation-driven><br />		<mvc:argument-resolvers><br />			<bean class="com.softline.study.interceptor.UserHandlerMethodArgumentResolver"></bean>		<br />		</mvc:argument-resolvers><br />	</mvc:annotation-driven><br /><br />	<!-- default servlet mapping이 필요한 경우 사용 http://toby.epril.com/?p=1107 --><br />	<!-- 	<mvc:default-servlet-handler /> --><br /><br />	<!-- component scan 패키지 등록 stereotype 타입 scan --><br />	<context:component-scan base-package="com.softline.study" /><br /><br />	<br /></beans><br /></pre><br />