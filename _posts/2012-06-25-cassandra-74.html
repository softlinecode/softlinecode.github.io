---
layout: post
title: Cassandra 7.4 설정 및 사용법
date: '2012-06-24T20:42:00.002-07:00'
author: Jung Gi Lim
tags:
- DB
- cassandra
modified_time: '2012-06-24T20:42:09.129-07:00'
blogger_id: tag:blogger.com,1999:blog-2993388283610032812.post-8947417554702348974
blogger_orig_url: http://softline21c.blogspot.com/2012/06/cassandra-74.html
---

<br /><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">apache cassandra (<a class="con_link" href="http://cassandra.apache.org/" target="_blank">http://cassandra.apache.org/</a>)의 현재 최신 버젼은 0.7.4 이다.</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">cassandra의 경우 아직 1 점대의 버젼이 나오지 않아서 인지 버젼이 변경될때마다 많은 것들이 변경되는 것 같다.</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">처음 테스트한 0.5 버젼의 경우 로컬에 설치후 클라이언트 접속후 간단하게 테스트하기 편했는데 0.6을 사용할 때는</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">client 에서 가져온 값이 byte로 표시되는 현상도 발견하곤 했다. 버젼이 올라갈수록 설정및 방법의 변화가 뚜렷해서</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">다시 학습을 해야하고 기존 샘플 코드나 설정을 다시 해봐야 한다는 단점이 있지만 그 만큼 발전한다고 할수도 있다.</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">최근에 발표된 0.7 버전대부터는 API가 많이 개선된듯 하다.</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">우선&nbsp;<a class="con_link" href="http://www.apache.org/dyn/closer.cgi?path=/cassandra/0.7.4/apache-cassandra-0.7.4-bin.tar.gz" target="_blank">http://www.apache.org/dyn/closer.cgi?path=/cassandra/0.7.4/apache-cassandra-0.7.4-bin.tar.gz</a></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">에서 apache-cassandra-0.7.4-bin.tar.gz 파일을 받고 압축을 푼다. Cassadra는 자바 1.6 이상이 설치가 되어 있어야 한다.</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">만약에 설치되지 않거나 구버젼이라면 설치및 업그레이드 해야한다.</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">압축을 풀면 Cassdra_path/bin 파일에서 실행하는것은 동일하다.</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">하지만 이번에 conf 정보의 변경이 되었다.</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">Cassdra_path/conf/cassandra.yaml 파일이 있다. 예전에 .xml 을 .yaml 로 변경되면서 설정 파일이 변경되었다.</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">우선 해당 파일을 열어보면 몇가지 설정이 리눅스 기반으로 되어져 있다.</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">/conf/cassandra.yaml 수정</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">#data_file_directories:<br style="margin: 0px; padding: 0px;" />#&nbsp;&nbsp;&nbsp; - /var/lib/cassandra/data<br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b;">data_file_directories:</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b;">&nbsp;&nbsp;&nbsp; - D:\dev\service-pwe\apache-cassandra-0.7.4\data</span></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">#commitlog_directory: /var/lib/cassandra/commitlog<br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b;">commitlog_directory: D:\dev\service-pwe\apache-cassandra-0.7.4\commitlog</span></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">#saved_caches_directory: /var/lib/cassandra/saved_caches<br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b;">saved_caches_directory: D:\dev\service-pwe\apache-cassandra-0.7.4\saved_caches</span></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">/conf/log4j-server.properties 수정</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">#log4j.appender.R.File=/var/log/cassandra/system.log</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><span style="background-color: #77b02b; color: white;">log4j.appender.R.File=D:\dev\service-pwe\apache-cassandra-0.7.4\log\system.log</span></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">/bin/cassandra.bat 수정</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">&nbsp;#-Dcom.sun.management.jmxremote.port=8080^</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">&nbsp;<span style="background-color: #77b02b;">-Dcom.sun.management.jmxremote.port=9090^</span></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b;"></span></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b;"></span></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><span style="background-color: #77b02b;"><br style="margin: 0px; padding: 0px;" /></span></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">이렇게 설정이 다 변경되었다면 이제 서버를&nbsp; 시작해보면된다.</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">Cassdra_path/bin/cassandra&nbsp;&nbsp;</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><span style="background-color: #77b02b; color: white;">Starting Cassandra Server</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:43,668 Logging initialized</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:43,678 Heap size: 1065025536/1065025536</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:43,680 JNA not found. Native methods will be disabled.</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:43,686 Loading settings from file:/D:/dev/service-pwe/apache-cassand</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">ra-0.7.4/conf/cassandra.yaml</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:43,772 DiskAccessMode 'auto' determined to be mmap, indexAccessMode</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">is mmap</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:43,845 Deleted D:\dev\service-pwe\apache-cassandra-0.7.4\data\system</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">\LocationInfo-f-5</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:43,847 Deleted D:\dev\service-pwe\apache-cassandra-0.7.4\data\system</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">\LocationInfo-f-8</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:43,849 Deleted D:\dev\service-pwe\apache-cassandra-0.7.4\data\system</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">\LocationInfo-f-7</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:43,850 Deleted D:\dev\service-pwe\apache-cassandra-0.7.4\data\system</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">\LocationInfo-f-6</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:43,879 Opening D:\dev\service-pwe\apache-cassandra-0.7.4\data\system</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">\Schema-f-1</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:43,891 Opening D:\dev\service-pwe\apache-cassandra-0.7.4\data\system</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">\Schema-f-2</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:43,897 Opening D:\dev\service-pwe\apache-cassandra-0.7.4\data\system</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">\Migrations-f-1</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:43,899 Opening D:\dev\service-pwe\apache-cassandra-0.7.4\data\system</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">\Migrations-f-2</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:43,903 Opening D:\dev\service-pwe\apache-cassandra-0.7.4\data\system</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">\LocationInfo-f-9</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:43,905 Opening D:\dev\service-pwe\apache-cassandra-0.7.4\data\system</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">\LocationInfo-f-10</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:43,933 Loading schema version 8a62fc43-6983-11e0-a551-e700f669bcfc</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;WARN 16:52:44,081 Schema definitions were defined both locally and in cassandra</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">.yaml. Definitions in cassandra.yaml were ignored.</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:44,086 Opening D:\dev\service-pwe\apache-cassandra-0.7.4\data\KeyDat</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">a\User-f-1</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:44,096 Creating new commitlog segment D:\dev\service-pwe\apache-cass</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">andra-0.7.4\commitlog\CommitLog-1303113164096.log</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:44,104 Replaying D:\dev\service-pwe\apache-cassandra-0.7.4\commitlog</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">\CommitLog-1303110908005.log</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:44,104 Finished reading D:\dev\service-pwe\apache-cassandra-0.7.4\co</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">mmitlog\CommitLog-1303110908005.log</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:44,105 Log replay complete</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:44,123 Cassandra version: 0.7.4</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:44,123 Thrift API version: 19.4.0</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:44,124 Loading persisted ring state</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:44,124 Starting up server gossip</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:44,133 Enqueuing flush of Memtable-LocationInfo@1189111555(29 bytes,</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;1 operations)</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:44,134 Writing Memtable-LocationInfo@1189111555(29 bytes, 1 operatio</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">ns)</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:44,171 Completed flushing D:\dev\service-pwe\apache-cassandra-0.7.4\</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">data\system\LocationInfo-f-11-Data.db (80 bytes)</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:44,215 Using saved token 2701122407331872645437059864841179447</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:44,216 Enqueuing flush of Memtable-LocationInfo@893779515(53 bytes,</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">2 operations)</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:44,217 Writing Memtable-LocationInfo@893779515(53 bytes, 2 operation</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">s)</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:44,239 Completed flushing D:\dev\service-pwe\apache-cassandra-0.7.4\</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">data\system\LocationInfo-f-12-Data.db (163 bytes)</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:44,240 Compacting [SSTableReader(path='D:\dev\service-pwe\apache-cas</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">sandra-0.7.4\data\system\LocationInfo-f-9-Data.db'),SSTableReader(path='D:\dev\s</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">ervice-pwe\apache-cassandra-0.7.4\data\system\LocationInfo-f-10-Data.db'),SSTabl</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">eReader(path='D:\dev\service-pwe\apache-cassandra-0.7.4\data\system\LocationInfo</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">-f-11-Data.db'),SSTableReader(path='D:\dev\service-pwe\apache-cassandra-0.7.4\da</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">ta\system\LocationInfo-f-12-Data.db')]</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:44,242 Will not load MX4J, mx4j-tools.jar is not in the classpath</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:44,278 Binding thrift service to localhost/127.0.0.1:9160</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:44,282 Using TFastFramedTransport with a max frame size of 15728640</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">bytes.</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:44,284 Compacted to D:\dev\service-pwe\apache-cassandra-0.7.4\data\s</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">ystem\LocationInfo-tmp-f-13-Data.db.&nbsp; 853 to 447 (~52% of original) bytes for 3</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">keys.&nbsp; Time: 42ms.</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:44,285 Listening for thrift clients...</span></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">이렇게 정상적으로 로그가 출력되면 Cassandra 0.7.4 버젼 서버가 구동된것이다.</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">이제 서버에 client 접속을 해보자</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">Cassdra_path/bin/cassandra-cli 명령어로 실행하면 된다.</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">D:\dev\service-pwe\apache-cassandra-0.7.4\bin&gt;cassandra-cli<br style="margin: 0px; padding: 0px;" />Starting Cassandra Client<br style="margin: 0px; padding: 0px;" />Welcome to cassandra CLI.<br style="margin: 0px; padding: 0px;" /><br style="margin: 0px; padding: 0px;" />Type 'help;' or '?' for help. Type 'quit;' or 'exit;' to quit.<br style="margin: 0px; padding: 0px;" />[default@unknown] connect 127.0.0.1/9160<br style="margin: 0px; padding: 0px;" />...&nbsp;&nbsp;&nbsp;&nbsp; ;<br style="margin: 0px; padding: 0px;" />Connected to: "Test Cluster" on 127.0.0.1/9160<br style="margin: 0px; padding: 0px;" />[default@unknown]</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">최초 실행후 다시 connect 127.0.0.1/9160 으로 로컬 서버에 접속한다.</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">이때 ; 를 꼭 붙여야 한다. ; 이 빠지면 계속 ;이 올때까지 기다린다.</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">아무생각 없이 보다가 접속이 왜 안되지 하는 경우가 발생한다.</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">모든 명령어 끝에 ; 를 꼭 입력해야 합니다.</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">서버에 keyspace 를 추가시 명령어로 추가할수 있지만 서버 설정 파일에 선언해서 사용하고</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">싶다. 검색해보니&nbsp;</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><span class="Apple-style-span" style="border-collapse: separate; border-spacing: 0px; font-family: Gulim; font-size: small; line-height: normal;"></span></div><ol style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px;"><li class="li2" style="background-color: #f8f8f8;"><div class="de2" style="background-image: none; font-family: monospace; font-size: 1em; line-height: 19px; margin: 0px; padding: 0px; vertical-align: top;">keyspaces:</div></li><li class="li1"><div class="de1" style="background-image: none; font-family: monospace; font-size: 1em; line-height: 19px; margin: 0px; padding: 0px; vertical-align: top;">&nbsp; - name: Crawldata</div></li><li class="li2" style="background-color: #f8f8f8;"><div class="de2" style="background-image: none; font-family: monospace; font-size: 1em; line-height: 19px; margin: 0px; padding: 0px; vertical-align: top;">&nbsp; &nbsp; replica_placement_strategy: org.apache.cassandra.locator.RackUnawareStrategy</div></li><li class="li1"><div class="de1" style="background-image: none; font-family: monospace; font-size: 1em; line-height: 19px; margin: 0px; padding: 0px; vertical-align: top;">&nbsp; &nbsp; replication_factor: 1</div></li><li class="li2" style="background-color: #f8f8f8;"><div class="de2" style="background-image: none; font-family: monospace; font-size: 1em; line-height: 19px; margin: 0px; padding: 0px; vertical-align: top;">&nbsp; &nbsp; column_families:</div></li><li class="li1"><div class="de1" style="background-image: none; font-family: monospace; font-size: 1em; line-height: 19px; margin: 0px; padding: 0px; vertical-align: top;">&nbsp; &nbsp; &nbsp; - name: FetchedURLs</div></li><li class="li2" style="background-color: #f8f8f8;"><div class="de2" style="background-image: none; font-family: monospace; font-size: 1em; line-height: 19px; margin: 0px; padding: 0px; vertical-align: top;">&nbsp; &nbsp; &nbsp; &nbsp; compare_with: TimeUUIDType</div></li><li class="li1"><div class="de1" style="background-image: none; font-family: monospace; font-size: 1em; line-height: 19px; margin: 0px; padding: 0px; vertical-align: top;">&nbsp; &nbsp; &nbsp; &nbsp; gc_grace_seconds: 864000</div></li><li class="li2" style="background-color: #f8f8f8;"><div class="de2" style="background-image: none; font-family: monospace; font-size: 1em; line-height: 19px; margin: 0px; padding: 0px; vertical-align: top;">&nbsp; &nbsp; &nbsp; &nbsp; keys_cached: 200000.0</div></li><li class="li1"><div class="de1" style="background-image: none; font-family: monospace; font-size: 1em; line-height: 19px; margin: 0px; padding: 0px; vertical-align: top;">&nbsp; &nbsp; &nbsp; &nbsp; max_compaction_threshold: 32</div></li><li class="li2" style="background-color: #f8f8f8;"><div class="de2" style="background-image: none; font-family: monospace; font-size: 1em; line-height: 19px; margin: 0px; padding: 0px; vertical-align: top;">&nbsp; &nbsp; &nbsp; &nbsp; min_compaction_threshold: 4</div></li><li class="li1"><div class="de1" style="background-image: none; font-family: monospace; font-size: 1em; line-height: 19px; margin: 0px; padding: 0px; vertical-align: top;">&nbsp; &nbsp; &nbsp; &nbsp; read_repair_chance: 1.0</div></li></ol><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">이런 설정이 가능한것으로 보인다. 실제로 테스트로 넣어보니 Keyspace가 생성되지는 않는다.</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">시간이 없어서 일단 패스한다. 관련해서 한번 정확한 사용법을 찾아봐야 겠다.</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><a class="con_link" href="http://pastebin.com/N8Y2AzLc" target="_blank">http://pastebin.com/N8Y2AzLc</a></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">우선 간단하게 접속후 keyspace를 만들고 column family를 생성후 데이터를 넣고 다시 가져오는 테스트를</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">해보니 잘된다. 6.0 버젼에서 값이 byte 값으로 보이는 현상도 없다.&nbsp; 6.0 에서 그 원인도 찾지 못했는데 바로 0.7</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">대에서 잘 되니 다행이다.ㅋ</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><span class="Apple-style-span" style="border-collapse: separate; border-spacing: 0px; font-family: Gulim; font-size: small; line-height: normal;"><span class="Apple-style-span" style="font-size: 12px; line-height: 18px; text-align: left;"><span class="Apple-style-span" style="background-color: gainsboro;"><span class="Apple-style-span" style="font-size: x-small;"><br style="margin: 0px; padding: 0px;" /></span></span></span></span></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /></div><br style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; margin: 0px; padding: 0px;" /><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /></div><br class="Apple-interchange-newline" />