<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Cassandra 7.4 설정 및 사용법</title>
  <meta name="description" content="apache cassandra (http://cassandra.apache.org/)의 현재 최신 버젼은 0.7.4 이다.cassandra의 경우 아직 1 점대의 버젼이 나오지 않아서 인지 버젼이 변경될때마다 많은 것들이 변경되는 것 같다.처음 테스트한 0.5 버젼의 경우 로컬에 ...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://yourdomain.com/2012/06/25/cassandra-74.html">
  <link rel="alternate" type="application/rss+xml" title="softlinecode blog" href="http://yourdomain.com/feed.xml" />
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">softlinecode blog</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
          <a class="page-link" href="/about/">About</a>
          
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">Cassandra 7.4 설정 및 사용법</h1>
    <p class="post-meta">Jun 25, 2012 • Jung Gi Lim</p>
  </header>

  <article class="post-content">
    <br /><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">apache cassandra (<a class="con_link" href="http://cassandra.apache.org/" target="_blank">http://cassandra.apache.org/</a>)의 현재 최신 버젼은 0.7.4 이다.</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">cassandra의 경우 아직 1 점대의 버젼이 나오지 않아서 인지 버젼이 변경될때마다 많은 것들이 변경되는 것 같다.</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">처음 테스트한 0.5 버젼의 경우 로컬에 설치후 클라이언트 접속후 간단하게 테스트하기 편했는데 0.6을 사용할 때는</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">client 에서 가져온 값이 byte로 표시되는 현상도 발견하곤 했다. 버젼이 올라갈수록 설정및 방법의 변화가 뚜렷해서</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">다시 학습을 해야하고 기존 샘플 코드나 설정을 다시 해봐야 한다는 단점이 있지만 그 만큼 발전한다고 할수도 있다.</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">최근에 발표된 0.7 버전대부터는 API가 많이 개선된듯 하다.</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">우선&nbsp;<a class="con_link" href="http://www.apache.org/dyn/closer.cgi?path=/cassandra/0.7.4/apache-cassandra-0.7.4-bin.tar.gz" target="_blank">http://www.apache.org/dyn/closer.cgi?path=/cassandra/0.7.4/apache-cassandra-0.7.4-bin.tar.gz</a></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">에서 apache-cassandra-0.7.4-bin.tar.gz 파일을 받고 압축을 푼다. Cassadra는 자바 1.6 이상이 설치가 되어 있어야 한다.</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">만약에 설치되지 않거나 구버젼이라면 설치및 업그레이드 해야한다.</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">압축을 풀면 Cassdra_path/bin 파일에서 실행하는것은 동일하다.</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">하지만 이번에 conf 정보의 변경이 되었다.</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">Cassdra_path/conf/cassandra.yaml 파일이 있다. 예전에 .xml 을 .yaml 로 변경되면서 설정 파일이 변경되었다.</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">우선 해당 파일을 열어보면 몇가지 설정이 리눅스 기반으로 되어져 있다.</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">/conf/cassandra.yaml 수정</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">#data_file_directories:<br style="margin: 0px; padding: 0px;" />#&nbsp;&nbsp;&nbsp; - /var/lib/cassandra/data<br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b;">data_file_directories:</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b;">&nbsp;&nbsp;&nbsp; - D:\dev\service-pwe\apache-cassandra-0.7.4\data</span></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">#commitlog_directory: /var/lib/cassandra/commitlog<br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b;">commitlog_directory: D:\dev\service-pwe\apache-cassandra-0.7.4\commitlog</span></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">#saved_caches_directory: /var/lib/cassandra/saved_caches<br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b;">saved_caches_directory: D:\dev\service-pwe\apache-cassandra-0.7.4\saved_caches</span></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">/conf/log4j-server.properties 수정</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">#log4j.appender.R.File=/var/log/cassandra/system.log</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><span style="background-color: #77b02b; color: white;">log4j.appender.R.File=D:\dev\service-pwe\apache-cassandra-0.7.4\log\system.log</span></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">/bin/cassandra.bat 수정</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">&nbsp;#-Dcom.sun.management.jmxremote.port=8080^</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">&nbsp;<span style="background-color: #77b02b;">-Dcom.sun.management.jmxremote.port=9090^</span></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b;"></span></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b;"></span></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><span style="background-color: #77b02b;"><br style="margin: 0px; padding: 0px;" /></span></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">이렇게 설정이 다 변경되었다면 이제 서버를&nbsp; 시작해보면된다.</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">Cassdra_path/bin/cassandra&nbsp;&nbsp;</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><span style="background-color: #77b02b; color: white;">Starting Cassandra Server</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:43,668 Logging initialized</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:43,678 Heap size: 1065025536/1065025536</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:43,680 JNA not found. Native methods will be disabled.</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:43,686 Loading settings from file:/D:/dev/service-pwe/apache-cassand</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">ra-0.7.4/conf/cassandra.yaml</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:43,772 DiskAccessMode 'auto' determined to be mmap, indexAccessMode</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">is mmap</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:43,845 Deleted D:\dev\service-pwe\apache-cassandra-0.7.4\data\system</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">\LocationInfo-f-5</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:43,847 Deleted D:\dev\service-pwe\apache-cassandra-0.7.4\data\system</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">\LocationInfo-f-8</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:43,849 Deleted D:\dev\service-pwe\apache-cassandra-0.7.4\data\system</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">\LocationInfo-f-7</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:43,850 Deleted D:\dev\service-pwe\apache-cassandra-0.7.4\data\system</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">\LocationInfo-f-6</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:43,879 Opening D:\dev\service-pwe\apache-cassandra-0.7.4\data\system</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">\Schema-f-1</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:43,891 Opening D:\dev\service-pwe\apache-cassandra-0.7.4\data\system</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">\Schema-f-2</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:43,897 Opening D:\dev\service-pwe\apache-cassandra-0.7.4\data\system</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">\Migrations-f-1</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:43,899 Opening D:\dev\service-pwe\apache-cassandra-0.7.4\data\system</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">\Migrations-f-2</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:43,903 Opening D:\dev\service-pwe\apache-cassandra-0.7.4\data\system</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">\LocationInfo-f-9</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:43,905 Opening D:\dev\service-pwe\apache-cassandra-0.7.4\data\system</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">\LocationInfo-f-10</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:43,933 Loading schema version 8a62fc43-6983-11e0-a551-e700f669bcfc</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;WARN 16:52:44,081 Schema definitions were defined both locally and in cassandra</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">.yaml. Definitions in cassandra.yaml were ignored.</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:44,086 Opening D:\dev\service-pwe\apache-cassandra-0.7.4\data\KeyDat</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">a\User-f-1</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:44,096 Creating new commitlog segment D:\dev\service-pwe\apache-cass</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">andra-0.7.4\commitlog\CommitLog-1303113164096.log</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:44,104 Replaying D:\dev\service-pwe\apache-cassandra-0.7.4\commitlog</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">\CommitLog-1303110908005.log</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:44,104 Finished reading D:\dev\service-pwe\apache-cassandra-0.7.4\co</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">mmitlog\CommitLog-1303110908005.log</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:44,105 Log replay complete</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:44,123 Cassandra version: 0.7.4</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:44,123 Thrift API version: 19.4.0</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:44,124 Loading persisted ring state</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:44,124 Starting up server gossip</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:44,133 Enqueuing flush of Memtable-LocationInfo@1189111555(29 bytes,</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;1 operations)</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:44,134 Writing Memtable-LocationInfo@1189111555(29 bytes, 1 operatio</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">ns)</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:44,171 Completed flushing D:\dev\service-pwe\apache-cassandra-0.7.4\</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">data\system\LocationInfo-f-11-Data.db (80 bytes)</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:44,215 Using saved token 2701122407331872645437059864841179447</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:44,216 Enqueuing flush of Memtable-LocationInfo@893779515(53 bytes,</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">2 operations)</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:44,217 Writing Memtable-LocationInfo@893779515(53 bytes, 2 operation</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">s)</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:44,239 Completed flushing D:\dev\service-pwe\apache-cassandra-0.7.4\</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">data\system\LocationInfo-f-12-Data.db (163 bytes)</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:44,240 Compacting [SSTableReader(path='D:\dev\service-pwe\apache-cas</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">sandra-0.7.4\data\system\LocationInfo-f-9-Data.db'),SSTableReader(path='D:\dev\s</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">ervice-pwe\apache-cassandra-0.7.4\data\system\LocationInfo-f-10-Data.db'),SSTabl</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">eReader(path='D:\dev\service-pwe\apache-cassandra-0.7.4\data\system\LocationInfo</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">-f-11-Data.db'),SSTableReader(path='D:\dev\service-pwe\apache-cassandra-0.7.4\da</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">ta\system\LocationInfo-f-12-Data.db')]</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:44,242 Will not load MX4J, mx4j-tools.jar is not in the classpath</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:44,278 Binding thrift service to localhost/127.0.0.1:9160</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:44,282 Using TFastFramedTransport with a max frame size of 15728640</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">bytes.</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:44,284 Compacted to D:\dev\service-pwe\apache-cassandra-0.7.4\data\s</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">ystem\LocationInfo-tmp-f-13-Data.db.&nbsp; 853 to 447 (~52% of original) bytes for 3</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">keys.&nbsp; Time: 42ms.</span><br style="margin: 0px; padding: 0px;" /><span style="background-color: #77b02b; color: white;">&nbsp;INFO 16:52:44,285 Listening for thrift clients...</span></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">이렇게 정상적으로 로그가 출력되면 Cassandra 0.7.4 버젼 서버가 구동된것이다.</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">이제 서버에 client 접속을 해보자</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">Cassdra_path/bin/cassandra-cli 명령어로 실행하면 된다.</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">D:\dev\service-pwe\apache-cassandra-0.7.4\bin&gt;cassandra-cli<br style="margin: 0px; padding: 0px;" />Starting Cassandra Client<br style="margin: 0px; padding: 0px;" />Welcome to cassandra CLI.<br style="margin: 0px; padding: 0px;" /><br style="margin: 0px; padding: 0px;" />Type 'help;' or '?' for help. Type 'quit;' or 'exit;' to quit.<br style="margin: 0px; padding: 0px;" />[default@unknown] connect 127.0.0.1/9160<br style="margin: 0px; padding: 0px;" />...&nbsp;&nbsp;&nbsp;&nbsp; ;<br style="margin: 0px; padding: 0px;" />Connected to: "Test Cluster" on 127.0.0.1/9160<br style="margin: 0px; padding: 0px;" />[default@unknown]</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">최초 실행후 다시 connect 127.0.0.1/9160 으로 로컬 서버에 접속한다.</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">이때 ; 를 꼭 붙여야 한다. ; 이 빠지면 계속 ;이 올때까지 기다린다.</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">아무생각 없이 보다가 접속이 왜 안되지 하는 경우가 발생한다.</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">모든 명령어 끝에 ; 를 꼭 입력해야 합니다.</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">서버에 keyspace 를 추가시 명령어로 추가할수 있지만 서버 설정 파일에 선언해서 사용하고</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">싶다. 검색해보니&nbsp;</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><span class="Apple-style-span" style="border-collapse: separate; border-spacing: 0px; font-family: Gulim; font-size: small; line-height: normal;"></span></div><ol style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px;"><li class="li2" style="background-color: #f8f8f8;"><div class="de2" style="background-image: none; font-family: monospace; font-size: 1em; line-height: 19px; margin: 0px; padding: 0px; vertical-align: top;">keyspaces:</div></li><li class="li1"><div class="de1" style="background-image: none; font-family: monospace; font-size: 1em; line-height: 19px; margin: 0px; padding: 0px; vertical-align: top;">&nbsp; - name: Crawldata</div></li><li class="li2" style="background-color: #f8f8f8;"><div class="de2" style="background-image: none; font-family: monospace; font-size: 1em; line-height: 19px; margin: 0px; padding: 0px; vertical-align: top;">&nbsp; &nbsp; replica_placement_strategy: org.apache.cassandra.locator.RackUnawareStrategy</div></li><li class="li1"><div class="de1" style="background-image: none; font-family: monospace; font-size: 1em; line-height: 19px; margin: 0px; padding: 0px; vertical-align: top;">&nbsp; &nbsp; replication_factor: 1</div></li><li class="li2" style="background-color: #f8f8f8;"><div class="de2" style="background-image: none; font-family: monospace; font-size: 1em; line-height: 19px; margin: 0px; padding: 0px; vertical-align: top;">&nbsp; &nbsp; column_families:</div></li><li class="li1"><div class="de1" style="background-image: none; font-family: monospace; font-size: 1em; line-height: 19px; margin: 0px; padding: 0px; vertical-align: top;">&nbsp; &nbsp; &nbsp; - name: FetchedURLs</div></li><li class="li2" style="background-color: #f8f8f8;"><div class="de2" style="background-image: none; font-family: monospace; font-size: 1em; line-height: 19px; margin: 0px; padding: 0px; vertical-align: top;">&nbsp; &nbsp; &nbsp; &nbsp; compare_with: TimeUUIDType</div></li><li class="li1"><div class="de1" style="background-image: none; font-family: monospace; font-size: 1em; line-height: 19px; margin: 0px; padding: 0px; vertical-align: top;">&nbsp; &nbsp; &nbsp; &nbsp; gc_grace_seconds: 864000</div></li><li class="li2" style="background-color: #f8f8f8;"><div class="de2" style="background-image: none; font-family: monospace; font-size: 1em; line-height: 19px; margin: 0px; padding: 0px; vertical-align: top;">&nbsp; &nbsp; &nbsp; &nbsp; keys_cached: 200000.0</div></li><li class="li1"><div class="de1" style="background-image: none; font-family: monospace; font-size: 1em; line-height: 19px; margin: 0px; padding: 0px; vertical-align: top;">&nbsp; &nbsp; &nbsp; &nbsp; max_compaction_threshold: 32</div></li><li class="li2" style="background-color: #f8f8f8;"><div class="de2" style="background-image: none; font-family: monospace; font-size: 1em; line-height: 19px; margin: 0px; padding: 0px; vertical-align: top;">&nbsp; &nbsp; &nbsp; &nbsp; min_compaction_threshold: 4</div></li><li class="li1"><div class="de1" style="background-image: none; font-family: monospace; font-size: 1em; line-height: 19px; margin: 0px; padding: 0px; vertical-align: top;">&nbsp; &nbsp; &nbsp; &nbsp; read_repair_chance: 1.0</div></li></ol><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">이런 설정이 가능한것으로 보인다. 실제로 테스트로 넣어보니 Keyspace가 생성되지는 않는다.</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">시간이 없어서 일단 패스한다. 관련해서 한번 정확한 사용법을 찾아봐야 겠다.</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><a class="con_link" href="http://pastebin.com/N8Y2AzLc" target="_blank">http://pastebin.com/N8Y2AzLc</a></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">우선 간단하게 접속후 keyspace를 만들고 column family를 생성후 데이터를 넣고 다시 가져오는 테스트를</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">해보니 잘된다. 6.0 버젼에서 값이 byte 값으로 보이는 현상도 없다.&nbsp; 6.0 에서 그 원인도 찾지 못했는데 바로 0.7</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;">대에서 잘 되니 다행이다.ㅋ</div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><span class="Apple-style-span" style="border-collapse: separate; border-spacing: 0px; font-family: Gulim; font-size: small; line-height: normal;"><span class="Apple-style-span" style="font-size: 12px; line-height: 18px; text-align: left;"><span class="Apple-style-span" style="background-color: gainsboro;"><span class="Apple-style-span" style="font-size: x-small;"><br style="margin: 0px; padding: 0px;" /></span></span></span></span></div><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /></div><br style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; margin: 0px; padding: 0px;" /><div style="font-family: 돋움, Dotum, AppleGothic, sans-serif; font-size: 12px; line-height: 18px; padding: 0px;"><br style="margin: 0px; padding: 0px;" /></div><br class="Apple-interchange-newline" />
  </article>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">softlinecode blog</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li>softlinecode blog</li>
          <li><a href="mailto:softlinecode@gmail.com">softlinecode@gmail.com</a></li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/jekyll">
              <span class="icon  icon--github">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
                </svg>
              </span>

              <span class="username">jekyll</span>
            </a>
          </li>
          

          
          <li>
            <a href="https://twitter.com/jekyllrb">
              <span class="icon  icon--twitter">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
                  c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/>
                </svg>
              </span>

              <span class="username">jekyllrb</span>
            </a>
          </li>
          
        </ul>
      </div>

      <div class="footer-col  footer-col-3">
        <p class="text">Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
